<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="text/javascript">
      (function(){
        var it = makeIterator(['a', 'b']);

        console.log(it.next()) // { value: "a", done: false }
        console.log(it.next()) // { value: "b", done: false }
        console.log(it.next()) // { value: undefined, done: true }

        function makeIterator(array) {
          var nextIndex = 0;
          return {
            next: function() {
              return nextIndex < array.length ?
                {value: array[nextIndex++], done: false} :
                {value: undefined, done: true};
            }
          };
        }
      })();

      (function(){
        var it = idMaker();

        console.log(it.next().value) // '0'
        console.log(it.next().value) // '1'
        console.log(it.next().value) // '2'
        // ...

        function idMaker() {
          var index = 0;

          return {
            next: function() {
              return {value: index++, done: false};
            }
          };
        }
      })();
    </script>
  </body>
</html>
