<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <ul id="cat">
    </ul>
    <script type="text/javascript">
      //回调函数
      function doSomething(done) {
        console.log('do something');
        done && done();
      }
      doSomething(function(){
        console.log('end');
      });

      //绑定事件，ajax为例
      var oCatUl = document.querySelector('#cat');
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function() {
        if (xhr.readyState === xhr.DONE) {
          if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) {
            try {
              var data = JSON.parse(xhr.responseText).data;
              for (var i = 0; i < data.length; i++) {
                var obj = data[i];
                oCatUl.innerHTML += `
                  <li class="cat_item">
                    ${obj.cat_name}
                  </li>
                `;
              }
            } catch (error) {
              oCatUl.innerText = "服务器错误，请联系管理员";
            }
          }
        }
      }
      xhr.open('GET', 'http://h6.duchengjiu.top/shop/api_cat.php');
      xhr.send();

      

    </script>
  </body>
</html>
